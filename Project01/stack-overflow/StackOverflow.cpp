/* File: StackOverflow.cpp
 *
 * TODO: Edit these comments to tell me what the repeating sequence is. 
pattern: 0 456 404 778 964 475 378 770 321 692 777 178 364 812 969 938 419 814 11 204 681 29 374 798 324 52 1013 412 162 1000 597 730 315 333 775 405 955 442 654 362 450 591 452 227 797 199 12 722 248 565 548 742 110 519 54 263 545 447 695 650 280 212 977 744 517 254 532 285 833 740 160 592 268 705 10 719 916 91 1009 313 460 918 540 602 117 554 348 846 570 605 288 649 803 138 671 127 81 485 651 98 988 783 879 735 586 358 562 813 505 433 168 796 890 598 90 31 76 163 720 848 134 528 866 424 850 755 96 1007 731 1001 246 490 551 407 331 752 745 656 377 954 815 234 173 805 244 970 855 85 198 869 170 79 726 604 743 556 385 920 608 542 42 7 497 620 15 779 544 974 119 949 840 859 226 946 880 469 232 1017 766 904 917 714 215 357 434 909 555 539 767 219 222 301 403 659 370 774 691 902 785 832 273 118 314 14 889 810 768 192 393 711 265 702 472 871 748 509 328 27 148 673 634 445 906 296 340 135 701 737 516 146 588 982 795 431 92 88 761 276 854 221 851 332 147 43 414 788 104 193 525 446 907 989 398 535 279 188 729 684 272 143 614 379 426 144 547 354 991 622 375 1005 512 464 480 932 536 647 712 207 704 664 463 771 688 580 531 624 208 62 571 465 826 579 987 808 529 870 444 534 507 140 395 698 872 557 335 961 750 642 453 37 865 763 166 387 161 283 830 152 196 559 912 520 213 429 522 21 652 303 230 40 36 75 526 149 440 739 60 626 960 753 629 524 948 165 913 837 821 875 657 401 986 552 1002 417 677 50 953 235 462 601 759 1020 901 829 473 307 277 939 250 843 858 831 686 845 881 619 39 863 945 944 764 72 646 621 853 438 247 225 550 727 33 994 392 350 995 513 292 216 347 287 925 501 976 448 819 756 84 738 57 648 210 293 658 807 449 802 471 269 926 367 1006 717 182 773 259 483 186 421 992 311 352 758 1003 575 420 399 351 422 468 952 965 172 334 89 971 238 503 44 496 564 628 425 891 957 291 373 990 662 139 181 811 800 49 35 806 847 55 736 537 612 80 51 65 877 553 915 491 725 486 415 782 220 23 973 184 637 615 857 979 928 19 834 150 258 627 158 896 59 78 6 16 195 74 746 306 174 929 864 655 682 112 390 409 267 494 930 959 560 577 502 242 32 530 878 985 1023 8 825 683 523 200 581 716 984 436 933 641 680 427 582 243 132 82 1014 636 709 286 316 574 441 115 297 514 249 28 126 470 255 338 672 599 816 102 630 294 77 53 45 391 141 34 898 322 123 900 690 229 882 304 981 128 191 122 400 511 653 105 924 159 868 476 600 669 772 224 70 443 454 290 838 355 801 183 309 71 9 218 274 202 1011 175 921 903 305 616 1019 63 595 408 911 820 678 663 963 993 372 754 66 887 69 275 169 583 211 389 584 94 151 568 179 791 100 644 968 590 842 461 941 153 790 809 61 83 665 643 262 477 237 329 713 336 384 67 666 943 437 972 504 506 1 841 116 484 950 108 107 459 888 48 679 206 835 201 24 428 343 157 365 563 958 922 25 676 715 572 951 533 416 794 861 396 245 185 749 298 339 142 481 413 594 435 93 325 457 41 167 527 741 120 47 111 281 145 478 899 106 769 1010 252 223 578 718 947 1015 818 836 136 499 317 46 103 998 495 721 609 927 765 394 410 189 694 109 710 607 638 787 606 251 510 95 177 521 996 289 708 631 703 892 217 129 101 696 381 883 1018 341 97 466 488 784 732 569 26 876 908 487 645 295 757 361 860 873 561 689 956 302 566 124 931 675 567 884 130 780 585 822 573 171 13 792 799 360 546 282 1021 919 543 786 978 975 368 611 270 596 895 734 432 839 724 363 121 87 337 38 30 190 940 344 699 558 236 133 693 3 326 99 897 936 214 458 20 587 56 760 180 253 707 17 1008 751 828 962 260 700 723 914 518 299 380 500 197 371 310 640 804 617 967 369 508 318 793 862 789 910 668 113 934 241 359 323 376 271 22 498 233 885 781 4 999 474 762 667 155 844 397 482 980 603 240 402 515 423 18 776 382 660 86 493 661 489 
*/
#include "StackOverflow.h"
#include <iostream>
#include <fstream>
using namespace std;

ofstream myfile;
bool repeat = false;

/* The "nextTable" for the Stack Overflow example. This is essentially a function
 * that given a number between 0 and 1023 gives back a number between 0 and 1023.
 * Our function uses this table to make it hard to predict what's going to happen
 * next. Use the debugger to find out!
 */
static constexpr int nextTable[] = {
    456,  841,  205,  326,  999,  935,   16,  497,  825,  218,  719,  204,  722,  792,  889,  779,  195, 1008,  776,  834,  587,  652,  498,  973,  428,  676,  876,  148,  126,  374,  190,   76,
    530,  994,  898,  806,   75,  865,   30,  863,   36,  167,    7,  414,  496,  391,  103,  111,  679,   35,  953,   65, 1013,   45,  263,  736,  760,  648,  983,   78,  626,   83,  571,  595,
     73,  877,  887,  666,  319,  275,  443,    9,  646,  257,  746,  526,  163,   53,    6,  726,   51,  485, 1014,  665,  738,  198,  493,  337,  761,  971,   31, 1009,   88,  325,  151,  177,
   1007,  466,  988,  897,  644,  696,  630,  998,  193,  924,  769,  459,  107,  710,  519,  281,  390,  934,  632,  297,  484,  554,  314,  949,   47,   87,  400,  900,  931,  856,  470,   81,
    191,  101,  780,  342,   82,  693,  528,  701,  499,  164,  671,  181,  395,   34,  481,  614,  547,  478,  588,   43,  673,  440,  258,  568,  196,  790,  479,  844,  728,  365,  896,  868,
    592,  283, 1000,  720,  685,  913,  387,  527,  796,  583,   79,   13,  334,  805,  929,  921,  610,  521,  364,  791,  253,  811,  773,  309,  637,  749,  421,  942,  729,  694,  940,  122,
    393,  525, 1012,   74,  559,  371,  869,   12,  581,   24, 1011,  327,  681,  893,  835,  704,   62,  492,  293,  389,  977,  429,  458,  357,  347,  129,  274,  222,   23,  851,  301,  578,
     70,  550,  946,  797,    2,  882,   40,  923, 1017,  885,  173,  462,  133,  329,  503,  997,  402,  359,   32,  132,  970,  185,  490,  225,  565,   28,  843,  510,  223,  707,  532,  338,
     64,  154,  627,  483,  700,  697,  477,  545,  937,  702,    5,  494,  705,  926,  596,   22,  143,  118,  202,  169,  854,  939,  867,  188,  212,  145, 1021,  830,  114,  833,  316,  925,
    649,  708,  838,  373,  216,  658,   77,  757,  340,  514,  339,  380,  593,  403,  566,  230,  981,  616,  174,  277,  706,   71,  640,  352,  576,  460,   14,  333,  574,   46,  793,  131,
    439,  692,  123,  376,   52,  457,   99,  549,   27,  713,  320,  752,  147,  775,   89,  961,  384,   38,  672,  142,  135,   97,  589,  157,  699,  430,  635,  287,  846,  817,  995,  422,
    758,  209,  991,  801,  300,  434,  562,  323,  546,  860,  450,  121,  812,  563,  905, 1006,  611,  508,  774,  310,  754,  990,  798, 1005,  271,  954,  770,  426,  500,  883,  660,  467,
     67,  920,  886,  161,  687,  584,  409,  141,  350,  711,  410,  698,  245,  482,  535,  351,  511,  986,  515,  659,  778,  955,  264,  331,  911,  267,  189,  231,  162,  594,  788,  782,
    794,  677,  747,  814,  399,  992,  468,   18,  850,  891,  144,  582,  343,  522,  613,   92,  839,  168,  909,   93,  933,  972,  247, 1004,  739,  115,  654,  454,  534,  906,  907,  695,
    819,  802,  591,  406,  227,   37,  290,  194,  404,   41,   20,  888,  918,  941,  601,  771,  480,  826,  488,   68,  952,  232,  255,  269,  871,  307,  762,  378,  600,  237,  899,  849,
    932,  413,  980,  186,  950,  651,  415,  645,  784,    0,  551,  725,  670,  661,  930,  721,  564,  620,  233,  317,  197,  976,  242,   44,  506,  433,    1,  140,  318,  328,   95,  653,
    464,  292,  249,  423,  146,  254,  299,   54,  213,  996,   21,  200,  948,  446,  149,  741,  866,  870,  878,  624,  285,  416,  507,  279,  647,  612,  455,  767,  602,   58,   42,  786,
    974,  447,  282,  354,  742,  137,  727,  407, 1002,  915,  348,  539,  385,  335,  236,  912,  577,  689,  813,  958,  628,  548,  124,  884,  179,   26,  605,  465,  951,  171,  441,  420,
    418,  502,  718,  987,  531,  716,  243,  211,   94,  822,  358,   56,  982,  541,  842,  452,  268,  353,  435,  408,  895,  730,   90,  816,  669,  759,  117,  240,  743,  288,  251,  638,
    542,  927,  824,  270,   80,  618,  379,  857, 1019,  967,  278,   39,   15,  853,  375,  308,  208,  349,  960,  158,  425,  524,  294,  703,  228,  733,  445, 1022,  709,  615,  787,  266,
    804,  680,  453,  262,  968,  295,  621,  712,  210,  803,  280,   98,  303,  105,  362,  682,  377,  401,  807,  370,   86,  489,  139,  963,  463,  643,  943,  155,  113,  772,  538,  127,
    599,  634,  633,  567,  715,   50,  663,  206,  427,   29,  112,  523,  272,  203,  845,  346,  580,  956,  229,  902,  777,    3,  109,  650,  381,  674,  872,  558,  723,  737,  472,  892,
    664,   10,  827,   17,  631,  286,  607,  265,  207,  336,  215,  572,  984,  182,  947,  916,  848,  609,  248,  914,  363,  486,  604,   33,  261,  684,  315, 1001,  569,  852,  432,  586,
    537,  516,   57,   60,  160,  120,  110,  556,  517,  656,  306,  451,  509,  298,  642,  828,  745,  629,   66,   96,   84,  361, 1003, 1020,  180,  276,  667,  166,   72,  394,  904,  219,
    192, 1010,  321,  688,  224,  259,  691,  405,  382,  178,  964,  544,  585,    4,  220,  879,  732,  832,  978,  606,  104,  910,  809,  100,  799,  862,  861,  431,  890,  199,  324,  360,
     49,  183,  471,  138,  617,  244,  847,  449,  529,   61,  768,  800,  969,  505,   11,  234,  102,  625,  836,  756,  678,  875,  573,  125, 1016,  683,  579,  312,  962,  473,  152,  686,
    273,  740,  150,  201,  136,  821,  355,  724,  859,  116,  461,  858,  397,  881,  570,   55,  134,  388,  755,  332,  356,  438,  221,   85,  386,  979,  831,  226,  873,  396,  789,  945,
    655,  763,  424,  330,  476,  170,  444,  748,  557,  561,  823,  657,  908,  553,  985,  735,  469,  619,  304, 1018,  130,  781,  874,   69,   48,  810,  598,  957,  217,  345,  623,  734,
     59,  936,  322,  106,  690,  829,  785,  305,  917,  383,  296,  989,  487,  555,  668,  820,  520,  837,  518,  491,   91,  714,  540,  543,  608,  903,   25,  284,  159,  501,  367,  765,
     19,  864,  959,  675,  536,  641,  241,  411,  214,  256,  419,  250,  344,  153,  176,  437,  764,  944,  880, 1015,  165,  840,  108,  533,  965,  235,  815,  442,  302,  291,  922,  560,
    753,  750,  260,  993,  475,  172,  639,  369,  590,  938,  855,  238,  504,  184,  119,  368,  448,  744,  975,  928,  603,  128,  795,  187,  436, 1023,  552,  808,  783,  398,  662,  622,
    311,  372,  392,  513,  289,  366,  495,  474,  597,  246,  417,  575,  894,  512,  717,  731,  751,  313,  252,  175,  966,  412,  636,  818,  239,  766,  341,   63,  901,  919,  156,    8,
};

/**
 * This function is going to trip a stack overflow. The function takes its argument,
 * uses it as an index into the table, then calls itself using that new index. This
 * recursion never stops, so it eventually crashes the program. The number were chosen 
 * because the program eventually calls this function on a certain sequence over and over 
 * and over again. Your job is to use the debugger,  the stack trace, and the variables 
 * window to figure out what the numbers in the sequence are.
 */
void tripStackOverflow(int index) {
    if (index == 0 && !repeat) {
        repeat = true;
    } else if (index == 0 && repeat) {
        return;
    }
    myfile << index << " ";
    tripStackOverflow(nextTable[index]);
}

int main() {
    myfile.open ("pattern.txt", ios::out | ios::app);
    tripStackOverflow(0);
    myfile.close();
}
